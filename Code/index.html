<!DOCTYPE html>
<meta charset="utf-8">
<head>
<script src="js/d3.min.js"></script>
<script src="js/d3.geo.projection.v0.min.js"></script>
<script src="js/queue.v1.min.js"></script>
<script src="js/topojson.v1.min.js"></script>
<script src="js/d3.slider.js"></script>
<script src='js/smooth-scroll.js'></script>
<link rel="stylesheet" href="css/d3.slider.css" />  
<link rel="stylesheet" type="text/css" href="css/style.css">
 <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic,300,300italic,600,600italic' rel='stylesheet' type='text/css'>
</head>
<body>
  <ul class="navigation">
    <li><a data-scroll data-options="easing: easeOutQuint" href="#viscontainer">Visualization</a> / </li>
    <li><a data-scroll data-options="easing: easeOutQuint" href="#aboutcontainer">About</a> / </li>
    <li><a data-scroll data-options="easing: easeOutQuint" href="#screencastcontainer">Screencast</a> / </li>
    <li><a data-scroll data-options="easing: easeOutQuint" href="#datacontainer">Data</a> / </li>
    <li><a data-scroll data-options="easing: easeOutQuint" href="#resourcescontainer">Resources</a></li>
  </ul>
  <div id="viscontainer">
  <header>
    <h1><strong>Cotton</strong> Production (<span class="unit">per capita</span>) & water consumption (<span class="year">2012</span>)
    </h1>

    <form>
      <label class="label label1"> per <span class='capitaicon'>capita</span></label>
      <span class="toggle-bg">
        <input id="capita" type="radio" class="unitswitch" name="toggle" value="percapita" checked>
        <input id="total" type="radio" class="unitswitch" name="toggle" value="total"> 
        <span class="switch"></span>
      </span>
      <label class="label label2">total</label>

      <span class="toggle-bg2">
        <input id="waterOn" type="radio" class="waterswitch" name="toggle2" value="on" checked>
        <input id="waterOff" type="radio" class="waterswitch" name="toggle2" value="off"> 
        <span class="switch2"></span>
      </span>
      <label class="label label3"><span class="waterswitchlabel">hide</span> water consumption</label>

    </form>
  </header>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="900" valign="top" align="left">
        <div id="vis"></div>
  <p class="hint"><strong>Total cotton production</strong><em>Select a year, use arrow keys or <a id="autoplay" href="#">autoplay</a> to cycle through years</em></p>
  <div id="slider"></div>
  
  

    </td>
    <td width="40">&nbsp;</td>
    <td valign="top" align="left">
      <div class="sidebar">
        <p>Explore the map to learn about the worldwide anual cotton production and the related consumptive water use.</p>
        <div class="infobox">
          <h2>Help</h2>
          <p>The colour scheme of the map stands for the cotton production. The pie charts indicate the water consumption in relation to cotton production. The pie segments stand for green water in relation to blue water consumption while the pie size indicates the sum of those.</p> 
          <ul>
          <li class="tip1">Move the mouse cursor over a country to get detailed information</li>
          <li class="tip2">switch between per capita and total values</li>
          <li class="tip3">click on the drop to show or hide the water consumption (pie charts)</li>
          <li class="tip4">use either the slider on the bottom, the arrow keys or autoplay to cycle through the years.</li>
          <li class="tip5">click on a country or use mousewheel to zoom into the map</li>
        </ul>
      </div>
      <div class="tooltip hidden">
        <h2 class="country"></h2>
        <p class="red"></p>
        <p class="blue"></p>
        <p class='green'></p>
        <p class='resources'></p>
      </div>
    </div>
    </td>
  </tr>
</table>
</div>
<div id="aboutcontainer">
  <div>
<h2 id="about">About</h2>
  <p>Cotton uses a huge amount of water both to produce and process. It can take 2,700 litres to produce the cotton needed to make a single t-shirt. About 53 percent of the global cotton field is irrigated, producing 73 percent of the global cotton production (Soth, J., Grasser, C., and Salerno, R. (1999) ‘The impact of cotton on fresh water resources and ecosystems: A preliminary analysis’, WWF, Gland, Switzerland.). Irrigated cotton is mainly grown in the Mediterranean and other warm climatic regions like Egypt, Uzbekistan, and Pakistan, where freshwater is already in short supply.(A.K. Chapagain, A.Y. Hoekstra (2005) ‘Water footprint of cotton consumption’, UNESCO-IHE Delft, The Netherlands.)

  </p>
  <p>
Cotton production and processing are also a major source of pollution of fresh water. Globally, freshwater resources are becoming scarcer due to a growing population, increasing wealth and consumption and hence increasing water withdrawals for human use. The impact of consumption can be quantified with the concept of the “water footprint”, a concept introduced by Hoekstra and Hung (2002), and further elaborated by Chapagain and Hoekstra (2004). The water footprint of a nation has been defined as the total volume of freshwater that is used to produce the goods and services consumed by the inhabitants of the nation (Chapagain et al., 2006).
</p>
<p>
This visualization shows the world wide cotton production in relation to the consumptive water use. The water consumption can be divided into green water (water from rainwater stored in soil) and blue water (fresh water in lakes, rivers, aquifers). Blue water is stress-weighted because it is consumed at rates faster than it's short-term replacement and many cotton producing countries have limited blue water resources. This visualization allows you to compare this two types per country and in relative (per capita) and absolute values and shows you how much percent of the total renewable water resources per capita are withdrawn for cotton production.</p>
</div>
</div>

<div id="screencastcontainer">
  <div>
<h2 id="screencast">Screencast</h2>
<iframe src="//player.vimeo.com/video/93532215?portrait=0" width="700" height="390" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="http://vimeo.com/93532215">screencast - Water footprint of cotton production</a> from <a href="http://vimeo.com/user27501166">Susan H&auml;rtig</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
</div>
</div>
<div id="datacontainer">
  <div>
<h2 id="data">Data</h2>
<ul>
    <li><strong>Cotton production quantity (cotton lint, cottonseed):</strong> FAO. 2013. <a target="_blank" href="http://faostat3.fao.org/">FAOSTAT database</a>, Food and Agriculture Organization of the United Nations (FAO). Website accessed [03/2014]</li>
    
    <li><strong>Total Population - Both sexes (1000):</strong> FAO. 2013. <a target="_blank" href="http://faostat3.fao.org/">FAOSTAT database</a>, Food and Agriculture Organization of the United Nations (FAO). Website accessed [03/2014]</li>
    
    <li><strong>Total renewable water resources per capita (actual):</strong> FAO. 2013. <a target="_blank" href="http://www.fao.org/nr/aquastat">AQUASTAT database</a>, Food and Agriculture Organization of the United Nations (FAO). Website accessed [04/2014]</li>
    
    <li><strong>Water footprints of crops and derived crop products (1996-2005):</strong> WaterStat, <a target="_blank" href="http://www.waterfootprint.org/?page=files/WaterStat-ProductWaterFootprints">Water Footprint Network</a>, Enschede, the Netherlands, Mekonnen, M.M. and Hoekstra, A.Y. (2011) The green, blue and grey water footprint of crops and derived crop products, Hydrology and Earth System Sciences, 15(5): 1577-1600. Website accessed [03/2014]
    </li>
    
    <li><strong>Country codes:</strong> <a target="_blank" href="http://www.geonames.org/countries/">http://www.geonames.org/countries/</a> and <a target="_blank" href="http://wits.worldbank.org/WITS/wits/WITSHELP/Content/Codes/Country_Codes.htm">http://wits.worldbank.org/WITS/wits/WITSHELP/Content/Codes/Country_Codes.htm.</a> Website accessed [03/2014]</li>
    
    <li><strong>Geoinformation (Lat and Lon):</strong> <a target="_blank" href="https://opendata.socrata.com/dataset/Country-List-ISO-3166-Codes-Latitude-Longitude/mnkm-8ram">https://opendata.socrata.com/dataset/Country-List-ISO-3166-Codes-Latitude-Longitude/mnkm-8ram</a> and <a target="_blank" href="http://itouchmap.com/latlong.html">http://itouchmap.com/latlong.html.</a> Website accessed [03/2014]</li>
    
    <li><strong>Topojson "world-50m.json:"</strong> <a target="_blank" href="https://github.com/mbostock/topojson/blob/master/examples/world-50m.json">https://github.com/mbostock/topojson/blob/master/examples/world-50m.json.</a> Website accessed [03/2014]</li>
  </ul>
</div>
</div>
<div id="resourcescontainer">
  <div>
<h2 id="resources">Resources</h2>
<p><strong>Code</strong></p>
<ul>
<li>
The basic code for the choropleth map that let's you cycle through the years comes from Karel Minarik, 2013, Life Expectancy Choropleth Map, accessed on [03/2014], <a target="_blank" href="https://gist.github.com/karmi/2366285">https://gist.github.com/karmi/2366285</a> 
</li>

<li>The zoom functionality comes from Mike Bostock, 2014, Zoom to Bounding Box II, accessed on [04/2014], <a target="_blank" href="https://gist.github.com/mbostock/9656675">https://gist.github.com/mbostock/9656675</a>.
</li>

<li>The code for merging states with topojson comes from Mike Bostock, 2013, Merging States II, accessed on [03/2014], <a target="_blank" href="https://gist.github.com/mbostock/5416440">https://gist.github.com/mbostock/5416440</a>.
</li>

<li>The code for the area chart comes from Mike Bostock, 2014, Focus+Context via Brushing, accessed on [04/2014], <a target="_blank" href="https://gist.github.com/mbostock/1667367">https://gist.github.com/mbostock/1667367</a>.
</li>

<li>The basic code for the slider comes from Bjorn Sandvik, 2013, D3.js Slider, accessed on [04/2014], <a target="_blank" href="https://github.com/turban/d3.slider">https://github.com/turban/d3.slider</a> and has been modified to integrate an area chart.
</li>

<li>The code for the toggle/switch comes from Sebastian Sandqvist, 2012, Creating a JavaScript-Free Radio Toggle in CSS3, accessed on [04/2014], <a target="_blank" href="http://webdesign.tutsplus.com/tutorials/creating-a-javascript-free-radio-toggle-in-css3--webdesign-7690">http://webdesign.tutsplus.com/tutorials/creating-a-javascript-free-radio-toggle-in-css3--webdesign-7690</a>.
</li>
</ul>
<p><strong>Icons</strong></p>
<ul>
  <li>"People" designed by Wilson Joseph, 2013, <a target="_blank" href="http://thenounproject.com/term/people/23892/">http://thenounproject.com/term/people/23892/</a></li>
  
  <li>"Cursor" designed by Brandon Keelean, 2012, <a target="_blank" href="http://thenounproject.com/term/cursor/8362/">http://thenounproject.com/term/cursor/8362/</a></li>
  
  <li>"Play" designed by P.J. Onori, 2009, <a target="_blank" href="http://thenounproject.com/term/play/2873/">http://thenounproject.com/term/play/2873/</a></li>
  
  <li>"Zoom" designed by Alex S. Lakas, 2013, <a target="_blank" href="http://thenounproject.com/term/zoom/15441/">http://thenounproject.com/term/zoom/15441/</a></li>
  
  <li>"Question" designed by Christopher Holm-Hansen, 2014, <a target="_blank" href="http://thenounproject.com/term/question/39574/">http://thenounproject.com/term/question/39574/</a></li>
  
  <li>"Water" designed by Monika Ciapala, 2012, <a target="_blank" href="http://thenounproject.com/term/water/3275/">http://thenounproject.com/term/water/3275/</a></li>
  
  <li>"Cotton" designed by Marwa Boukarim, 2013, <a target="_blank" href="http://thenounproject.com/term/cotton/18663/">http://thenounproject.com/term/cotton/18663/</a></li>
</ul>
<p>
The git repository for the project is <a target="_blank" href="https://github.com/susanhaertig/project-cotton">https://github.com/susanhaertig/project-cotton</a>.
</p>

</div></div>
<script src="js/cotton.js"></script>
    <!-- Javascript -->
  
  <script>
    smoothScroll.init({
      speed: 1500,
      easing: 'easeOutQuint',
      offset: 0,
      updateURL: false,
      callbackBefore: function ( toggle, anchor ) {},
      callbackAfter: function ( toggle, anchor ) {}
    });
  </script>

  </body>
  </html>